!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).fxios={})}(this,function(t){"use strict";var e=function(){return(e=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function r(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&(r[n[o]]=t[n[o]])}return r}function n(t,e){var r,n,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function h(s){return function(h){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,h])}}}var o=function(t,e){return function(t){for(var e=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(e[r]=new RegExp("^(?:"+t[r].pattern+")$"));return function(r,n){for(var o="",s=n&&n.encode||encodeURIComponent,a=0;a<t.length;a++){var h=t[a];if("string"!=typeof h){var i,u=r?r[h.name]:void 0;if(Array.isArray(u)){if(!h.repeat)throw new TypeError('Expected "'+h.name+'" to not repeat, but got array');if(0===u.length){if(h.optional)continue;throw new TypeError('Expected "'+h.name+'" to not be empty')}for(var c=0;c<u.length;c++){if(i=s(u[c],h),!e[a].test(i))throw new TypeError('Expected all "'+h.name+'" to match "'+h.pattern+'"');o+=(0===c?h.prefix:h.delimiter)+i}}else if("string"!=typeof u&&"number"!=typeof u&&"boolean"!=typeof u){if(!h.optional)throw new TypeError('Expected "'+h.name+'" to be '+(h.repeat?"an array":"a string"))}else{if(i=s(String(u),h),!e[a].test(i))throw new TypeError('Expected "'+h.name+'" to match "'+h.pattern+'", but got "'+i+'"');o+=h.prefix+i}}else o+=h}return o}}(function(t,e){var r,n=[],o=0,u=0,c="",l=e&&e.delimiter||s,f=e&&e.whitelist||void 0,p=!1;for(;null!==(r=a.exec(t));){var m=r[0],y=r[1],d=r.index;if(c+=t.slice(u,d),u=d+m.length,y)c+=y[1],p=!0;else{var v="",g=r[2],b=r[3],w=r[4],O=r[5];if(!p&&c.length){var x=c.length-1,j=c[x],q=!f||f.indexOf(j)>-1;q&&(v=j,c=c.slice(0,x))}c&&(n.push(c),c="",p=!1);var A="+"===O||"*"===O,C="?"===O||"*"===O,R=b||w,U=v||l;n.push({name:g||o++,prefix:v,delimiter:U,optional:C,repeat:A,pattern:R?i(R):"[^"+h(U===l?U:U+l)+"]+?"})}}(c||u<t.length)&&n.push(c+t.substr(u));return n}(t,e))},s="/",a=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function h(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function i(t){return t.replace(/([=!:$\/()])/g,"\\$1")}var u="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function c(t,e){return t(e={exports:{}},e.exports),e.exports}var l=c(function(t,e){!function(r){var n=e&&!e.nodeType&&e,o=t&&!t.nodeType&&t,s="object"==typeof u&&u;s.global!==s&&s.window!==s&&s.self!==s||(r=s);var a,h,i=2147483647,c=36,l=1,f=26,p=38,m=700,y=72,d=128,v="-",g=/^xn--/,b=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=c-l,j=Math.floor,q=String.fromCharCode;function A(t){throw RangeError(O[t])}function C(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function R(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+C((t=t.replace(w,".")).split("."),e).join(".")}function U(t){for(var e,r,n=[],o=0,s=t.length;o<s;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<s?56320==(64512&(r=t.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--):n.push(e);return n}function I(t){return C(t,function(t){var e="";return t>65535&&(e+=q((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=q(t)}).join("")}function E(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function P(t,e,r){var n=0;for(t=r?j(t/m):t>>1,t+=j(t/e);t>x*f>>1;n+=c)t=j(t/x);return j(n+(x+1)*t/(t+p))}function S(t){var e,r,n,o,s,a,h,u,p,m,g,b=[],w=t.length,O=0,x=d,q=y;for((r=t.lastIndexOf(v))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&A("not-basic"),b.push(t.charCodeAt(n));for(o=r>0?r+1:0;o<w;){for(s=O,a=1,h=c;o>=w&&A("invalid-input"),((u=(g=t.charCodeAt(o++))-48<10?g-22:g-65<26?g-65:g-97<26?g-97:c)>=c||u>j((i-O)/a))&&A("overflow"),O+=u*a,!(u<(p=h<=q?l:h>=q+f?f:h-q));h+=c)a>j(i/(m=c-p))&&A("overflow"),a*=m;q=P(O-s,e=b.length+1,0==s),j(O/e)>i-x&&A("overflow"),x+=j(O/e),O%=e,b.splice(O++,0,x)}return I(b)}function k(t){var e,r,n,o,s,a,h,u,p,m,g,b,w,O,x,C=[];for(b=(t=U(t)).length,e=d,r=0,s=y,a=0;a<b;++a)(g=t[a])<128&&C.push(q(g));for(n=o=C.length,o&&C.push(v);n<b;){for(h=i,a=0;a<b;++a)(g=t[a])>=e&&g<h&&(h=g);for(h-e>j((i-r)/(w=n+1))&&A("overflow"),r+=(h-e)*w,e=h,a=0;a<b;++a)if((g=t[a])<e&&++r>i&&A("overflow"),g==e){for(u=r,p=c;!(u<(m=p<=s?l:p>=s+f?f:p-s));p+=c)x=u-m,O=c-m,C.push(q(E(m+x%O,0))),u=j(x/O);C.push(q(E(u,0))),s=P(r,w,n==o),r=0,++n}++r,++e}return C.join("")}if(a={version:"1.3.2",ucs2:{decode:U,encode:I},decode:S,encode:k,toASCII:function(t){return R(t,function(t){return b.test(t)?"xn--"+k(t):t})},toUnicode:function(t){return R(t,function(t){return g.test(t)?S(t.slice(4).toLowerCase()):t})}},n&&o)if(t.exports==n)o.exports=a;else for(h in a)a.hasOwnProperty(h)&&(n[h]=a[h]);else r.punycode=a}(u)}),f={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}};function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var m=function(t,e,r,n){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(e);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var h=t.length;a>0&&h>a&&(h=a);for(var i=0;i<h;++i){var u,c,l,f,m=t[i].replace(s,"%20"),y=m.indexOf(r);y>=0?(u=m.substr(0,y),c=m.substr(y+1)):(u=m,c=""),l=decodeURIComponent(u),f=decodeURIComponent(c),p(o,l)?Array.isArray(o[l])?o[l].push(f):o[l]=[o[l],f]:o[l]=f}return o},y=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},d=function(t,e,r,n){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(n){var o=encodeURIComponent(y(n))+r;return Array.isArray(t[n])?t[n].map(function(t){return o+encodeURIComponent(y(t))}).join(e):o+encodeURIComponent(y(t[n]))}).join(e):n?encodeURIComponent(y(n))+r+encodeURIComponent(y(t)):""},v=c(function(t,e){e.decode=e.parse=m,e.encode=e.stringify=d}),g=(v.decode,v.parse,v.encode,v.stringify,k),b=function(t){f.isString(t)&&(t=k(t));return t instanceof w?t.format():w.prototype.format.call(t)};function w(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var O=/^([a-z0-9.+-]+:)/i,x=/:[0-9]*$/,j=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,q=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),A=["'"].concat(q),C=["%","/","?",";","#"].concat(A),R=["/","?","#"],U=/^[+a-z0-9A-Z_-]{0,63}$/,I=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},P={javascript:!0,"javascript:":!0},S={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function k(t,e,r){if(t&&f.isObject(t)&&t instanceof w)return t;var n=new w;return n.parse(t,e,r),n}function L(t){if(null===Object.getPrototypeOf(t)||Array.isArray(t))return!0;if("object"!=typeof t||null===t||"[object Object]"!==String(t))return!1;for(var e=Object.getPrototypeOf(t);null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}w.prototype.parse=function(t,e,r){if(!f.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),o=-1!==n&&n<t.indexOf("#")?"?":"#",s=t.split(o);s[0]=s[0].replace(/\\/g,"/");var a=t=s.join(o);if(a=a.trim(),!r&&1===t.split("#").length){var h=j.exec(a);if(h)return this.path=a,this.href=a,this.pathname=h[1],h[2]?(this.search=h[2],this.query=e?v.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var i=O.exec(a);if(i){var u=(i=i[0]).toLowerCase();this.protocol=u,a=a.substr(i.length)}if(r||i||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var c="//"===a.substr(0,2);!c||i&&P[i]||(a=a.substr(2),this.slashes=!0)}if(!P[i]&&(c||i&&!S[i])){for(var p,m,y=-1,d=0;d<R.length;d++){-1!==(g=a.indexOf(R[d]))&&(-1===y||g<y)&&(y=g)}-1!==(m=-1===y?a.lastIndexOf("@"):a.lastIndexOf("@",y))&&(p=a.slice(0,m),a=a.slice(m+1),this.auth=decodeURIComponent(p)),y=-1;for(d=0;d<C.length;d++){var g;-1!==(g=a.indexOf(C[d]))&&(-1===y||g<y)&&(y=g)}-1===y&&(y=a.length),this.host=a.slice(0,y),a=a.slice(y),this.parseHost(),this.hostname=this.hostname||"";var b="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!b)for(var w=this.hostname.split(/\./),x=(d=0,w.length);d<x;d++){var q=w[d];if(q&&!q.match(U)){for(var k="",L=0,T=q.length;L<T;L++)q.charCodeAt(L)>127?k+="x":k+=q[L];if(!k.match(U)){var $=w.slice(0,d),F=w.slice(d+1),N=q.match(I);N&&($.push(N[1]),F.unshift(N[2])),F.length&&(a="/"+F.join(".")+a),this.hostname=$.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=l.toASCII(this.hostname));var D=this.port?":"+this.port:"",_=this.hostname||"";this.host=_+D,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!E[u])for(d=0,x=A.length;d<x;d++){var z=A[d];if(-1!==a.indexOf(z)){var H=encodeURIComponent(z);H===z&&(H=escape(z)),a=a.split(z).join(H)}}var K=a.indexOf("#");-1!==K&&(this.hash=a.substr(K),a=a.slice(0,K));var M=a.indexOf("?");if(-1!==M?(this.search=a.substr(M),this.query=a.substr(M+1),e&&(this.query=v.parse(this.query)),a=a.slice(0,M)):e&&(this.search="",this.query={}),a&&(this.pathname=a),S[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){D=this.pathname||"";var Z=this.search||"";this.path=D+Z}return this.href=this.format(),this},w.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&f.isObject(this.query)&&Object.keys(this.query).length&&(s=v.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||S[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+n},w.prototype.resolve=function(t){return this.resolveObject(k(t,!1,!0)).format()},w.prototype.resolveObject=function(t){if(f.isString(t)){var e=new w;e.parse(t,!1,!0),t=e}for(var r=new w,n=Object.keys(this),o=0;o<n.length;o++){var s=n[o];r[s]=this[s]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),h=0;h<a.length;h++){var i=a[h];"protocol"!==i&&(r[i]=t[i])}return S[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!S[t.protocol]){for(var u=Object.keys(t),c=0;c<u.length;c++){var l=u[c];r[l]=t[l]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||P[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",y=r.search||"";r.path=m+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var d=r.pathname&&"/"===r.pathname.charAt(0),v=t.host||t.pathname&&"/"===t.pathname.charAt(0),g=v||d||r.host&&t.pathname,b=g,O=r.pathname&&r.pathname.split("/")||[],x=(p=t.pathname&&t.pathname.split("/")||[],r.protocol&&!S[r.protocol]);if(x&&(r.hostname="",r.port=null,r.host&&(""===O[0]?O[0]=r.host:O.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),g=g&&(""===p[0]||""===O[0])),v)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,O=p;else if(p.length)O||(O=[]),O.pop(),O=O.concat(p),r.search=t.search,r.query=t.query;else if(!f.isNullOrUndefined(t.search)){if(x)r.hostname=r.host=O.shift(),(R=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=R.shift(),r.host=r.hostname=R.shift());return r.search=t.search,r.query=t.query,f.isNull(r.pathname)&&f.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!O.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var j=O.slice(-1)[0],q=(r.host||t.host||O.length>1)&&("."===j||".."===j)||""===j,A=0,C=O.length;C>=0;C--)"."===(j=O[C])?O.splice(C,1):".."===j?(O.splice(C,1),A++):A&&(O.splice(C,1),A--);if(!g&&!b)for(;A--;A)O.unshift("..");!g||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),q&&"/"!==O.join("/").substr(-1)&&O.push("");var R,U=""===O[0]||O[0]&&"/"===O[0].charAt(0);x&&(r.hostname=r.host=U?"":O.length?O.shift():"",(R=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=R.shift(),r.host=r.hostname=R.shift()));return(g=g||r.host&&O.length)&&!U&&O.unshift(""),O.length?r.pathname=O.join("/"):(r.pathname=null,r.path=null),f.isNull(r.pathname)&&f.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},w.prototype.parseHost=function(){var t=this.host,e=x.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var T=function(t,r){if(r&&r.path){for(var n=0,s=Object.keys(r.path);n<s.length;n++){var a=s[n];r.path[a]=encodeURIComponent(String(r.path[a]))}t=o(t)(r.path)}if(r&&r.query){var h=g(t,!0);delete h.search,t=b(e({},h,{query:e({},h.query,r.query)}))}return t},$=function(){function t(e){if(this.interceptor={},this.baseURL="",this.create=t.create,e){e.baseURL;var n=r(e,["baseURL"]);this.baseURL=e.baseURL||"",this.requestOption=n}var o=["get","post","put","delete","patch","head","options"];return new Proxy(this,{get:function(t,e,r){if(e in t)return Reflect.get(t,e,r);if(o.includes(e)){var n=function(r){return r||(r={url:"",method:"get"}),"string"==typeof r?r={method:e,url:r}:r.method=e,t.request(r)};return Reflect.set(t,e,n),n}}})}return t.create=function(e){return new t(e)},t.prototype.request=function(t){return o=this,s=void 0,h=function(){var o,s,a,h,i,u,c,l,f,p=this;return n(this,function(n){return this.interceptor.request&&(t=this.interceptor.request(t)),"string"==typeof t&&(t={method:"get",url:t}),t.method=t.method||"get",o=t.baseURL||this.baseURL,s=o?""+o+t.url:t.url,a=T(s,t),h=function(t){t.query,t.body,t.path,t.baseURL,t.url,t.formData;return r(t,["query","body","path","baseURL","url","formData"])}(t),i=h.headers||{},t.body&&(L(u=t.body)&&(h.headers=e({"Content-Type":"application/json"},i),u=JSON.stringify(u)),h.body=u),t.formData&&((c=t.formData)instanceof FormData&&(h.body=c),L(c)&&(l=new FormData,Object.keys(c).forEach(function(t){c.hasOwnProperty(t)&&l.append(t,c[t])}),h.body=l)),f=deepAssign({},this.requestOption,h),[2,fetch(a,f).then(function(t){return void 0!==p.interceptor.response?p.interceptor.response.call(p,t,f):t}).catch(function(t){if(void 0!==p.interceptor.catch)return p.interceptor.catch.call(p,t,f);throw t})]})},new((a=void 0)||(a=Promise))(function(t,e){function r(t){try{i(h.next(t))}catch(t){e(t)}}function n(t){try{i(h.throw(t))}catch(t){e(t)}}function i(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(r,n)}i((h=h.apply(o,s||[])).next())});var o,s,a,h},t}(),F=new $;t.Fxios=$,t.default=F,t.isPlainObject=L,t.jsonType="application/json",t.parseUrl=T,Object.defineProperty(t,"__esModule",{value:!0})});
